<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de baies non protégées (CNB)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
        }
        #app {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .tab-nav {
            overflow: hidden;
            background-color: #f1f1f1;
            border-bottom: 1px solid #ccc;
        }
        .tab-nav button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 16px;
        }
        .tab-nav button:hover {
            background-color: #ddd;
        }
        .tab-nav button.active {
            background-color: #004d99;
            color: white;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ccc;
            border-top: none;
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin: 10px 0;
            font-size: 16px;
        }
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            resize: vertical;
        }
        button {
            margin: 10px 0;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .results {
            background-color: #f1f1f1;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        @media (max-width: 600px) {
            #app { padding: 10px; }
            h1 { font-size: 1.5em; }
            .tab-nav button { font-size: 14px; padding: 10px 12px; }
            button { width: 100%; }
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>Calculateur de baies non protégées (CNB)</h1>
        <div class="tab-nav">
            <button class="tab-link active" onclick="openTab('cnb')">Méthode CNB</button>
            <button class="tab-link" onclick="openTab('method91014')">Méthode 9.10.14</button>
            <button class="tab-link" onclick="openTab('method91015')">Méthode 9.10.15</button>
        </div>

        <!-- Onglet Méthode CNB -->
        <div id="cnb" class="tab-content active">
            <p>Calcul basé sur la section 3.2.3 du CNB (Tableau 3.2.3.1-B)</p>
            <div class="form-group">
                <label for="usage_cnb">Usage du bâtiment</label>
                <select id="usage_cnb">
                    <option value="habitation">Habitation (Groupe C)</option>
                    <option value="affaires">Affaires (Groupe A, B, D, F3)</option>
                </select>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="sprinklers_cnb"> Bâtiment entièrement protégé par gicleurs</label>
            </div>
            <div class="form-group">
                <label for="distance_cnb">Distance limitative (m)</label>
                <input type="number" id="distance_cnb" value="8" min="0" step="0.1">
            </div>
            <div class="form-group">
                <label for="surface_cnb">Surface de la façade de rayonnement (m²)</label>
                <input type="number" id="surface_cnb" value="62" min="0">
            </div>
            <div class="form-group">
                <label for="ratio_cnb">Rapport L/H ou H/L</label>
                <select id="ratio_cnb">
                    <option value="moins31">Moins de 3:1</option>
                    <option value="3a10">3:1 à 10:1</option>
                    <option value="plus10">Plus de 10:1</option>
                </select>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="response_cnb"> Plus de 10 min dans 10 % ou plus des cas</label>
            </div>
            <button onclick="calculateCNB()">Calculer</button>
            <div class="results" id="cnb-result">Les résultats s'afficheront ici après le calcul</div>
        </div>

        <!-- Onglet Méthode 9.10.14 -->
        <div id="method91014" class="tab-content">
            <p>Calcul basé sur la méthode 9.10.14 du CNB (Tableau 9.10.14.4-A)</p>
            <div class="form-group">
                <label for="usage_91014">Usage du bâtiment</label>
                <select id="usage_91014">
                    <option value="habitation">Habitation</option>
                    <option value="commercial">Commercial/Industriel</option>
                </select>
            </div>
            <div class="form-group">
                <label for="distance_91014">Distance limitative (m)</label>
                <input type="number" id="distance_91014" value="1.2" min="0" step="0.1">
            </div>
            <div class="form-group">
                <label for="surface_91014">Surface de la façade de rayonnement (m²)</label>
                <input type="number" id="surface_91014" value="30" min="0">
            </div>
            <button onclick="calculate91014()">Calculer</button>
            <div class="results" id="method91014-result">Les résultats s'afficheront ici après le calcul</div>
        </div>

        <!-- Onglet Méthode 9.10.15 -->
        <div id="method91015" class="tab-content">
            <p>Calcul basé sur la méthode 9.10.15 du CNB (Tableau 9.10.15.4)</p>
            <div class="form-group">
                <label><input type="checkbox" id="sprinklers_91015"> Gicleurs</label>
            </div>
            <div class="form-group">
                <label for="openings_91015">Baies vitrées (JSON)</label>
                <textarea id="openings_91015" rows="3">[{"area": 0.3, "x": 1, "y": 1}, {"area": 0.3, "x": 4, "y": 1}]</textarea>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="singleRoom_91015"> Desservent une seule pièce</label>
            </div>
            <div class="form-group">
                <label for="wallHeight_91015">Hauteur des murs de séparation (m)</label>
                <input type="number" id="wallHeight_91015" min="0" step="0.1">
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="sameFloor_91015"> Baies sur le même étage</label>
            </div>
            <button onclick="calculate91015()">Calculer</button>
            <div class="results" id="method91015-result">Les résultats s'afficheront ici après le calcul</div>
        </div>

        <p style="font-size: 12px; color: #666; margin-top: 20px;">
            Note: Cet outil utilise les tableaux du Code national du bâtiment du Canada pour déterminer la surface maximale des baies non protégées dans une façade de rayonnement. Les valeurs calculées sont basées sur les tableaux du CNB 2015 (intégrant les modifications du Québec) pour la méthode CNB. Les méthodes 9.10.14 et 9.10.15 doivent être ajustées selon les exemples de calcul fournis.
        </p>
    </div>

    <script>
        function openTab(tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tab-link");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            event.currentTarget.classList.add("active");
        }

        function calculateCNB() {
            // Placeholder pour la logique de calcul (Tableau 3.2.3.1-B)
            document.getElementById('cnb-result').innerText = "Calcul en cours pour la méthode CNB...";
        }

        function calculate91014() {
            // Placeholder pour la logique de calcul (Tableau 9.10.14.4-A)
            document.getElementById('method91014-result').innerText = "Calcul en cours pour la méthode 9.10.14...";
        }

        function calculate91015() {
            // Placeholder pour la logique de calcul (Tableau 9.10.15.4 et 9.10.15.4)
            document.getElementById('method91015-result').innerText = "Calcul en cours pour la méthode 9.10.15...";
        }
    </script>
</body>
</html>
